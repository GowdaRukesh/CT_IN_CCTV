<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="Upload missing child details - AI-powered platform for finding missing children" />
        <meta name="author" content="" />
        <title>Upload Details - criminal detection in CCTV surveillance</title>
        <!-- Font Awesome icons -->
        <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css" />
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
        <!-- Custom CSS -->
        <style>
            :root {
                --primary: #2c3e50;
                --secondary: #e74c3c;
                --accent: #3498db;
                --light: #ecf0f1;
                --dark: #2c3e50;
            }
            
            body {
                font-family: 'Roboto Slab', serif;
                background: linear-gradient(to bottom, #c1e7e7, #a8d5e5);
                min-height: 100vh;
                padding-top: 80px;
            }
            
            .navbar {
                background-color: var(--primary) !important;
                padding: 15px 0;
            }
            
            .navbar-brand {
                font-weight: 700;
                color: white !important;
                font-size: 1.8rem;
            }
            
            .nav-link {
                color: rgba(255, 255, 255, 0.8) !important;
                font-weight: 600;
                margin: 0 10px;
                transition: color 0.3s;
                text-transform: capitalize;
            }
            
            .nav-link:hover {
                color: white !important;
            }
            
            .upload-card {
                background-color: white;
                border-radius: 15px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
                padding: 40px;
                margin: 30px auto;
            }
            
            .upload-header {
                text-align: center;
                margin-bottom: 30px;
            }
            
            .upload-title {
                color: var(--primary);
                font-weight: 700;
                margin-bottom: 10px;
            }
            
            .upload-subtitle {
                color: #666;
                margin-bottom: 30px;
            }
            
            .form-label {
                font-weight: 600;
                color: var(--dark);
                margin-bottom: 8px;
            }
            
            .form-control {
                padding: 12px 15px;
                border: 2px solid #ddd;
                border-radius: 8px;
                transition: all 0.3s;
            }
            
            .form-control:focus {
                border-color: var(--accent);
                box-shadow: 0 0 0 0.25rem rgba(52, 152, 219, 0.25);
            }
            
            .gender-options {
                display: flex;
                gap: 20px;
                margin-top: 5px;
            }
            
            .gender-option {
                display: flex;
                align-items: center;
                gap: 5px;
            }
            
            .btn-primary {
                background-color: var(--secondary);
                border-color: var(--secondary);
                padding: 12px 30px;
                font-weight: 600;
                border-radius: 8px;
                transition: all 0.3s;
                width: 100%;
                margin-top: 20px;
            }
            
            .btn-primary:hover {
                background-color: #c0392b;
                border-color: #c0392b;
                transform: translateY(-2px);
            }
            
            .alert-success {
                background-color: #d4edda;
                border-color: #c3e6cb;
                color: #155724;
                border-radius: 8px;
                margin-bottom: 25px;
            }
            
            .file-upload-wrapper {
                position: relative;
                margin-bottom: 20px;
            }
            
            .file-upload-label {
                display: block;
                padding: 12px 15px;
                border: 2px dashed #ccc;
                border-radius: 8px;
                text-align: center;
                cursor: pointer;
                transition: all 0.3s;
            }
            
            .file-upload-label:hover {
                border-color: var(--accent);
                background-color: rgba(52, 152, 219, 0.05);
            }
            
            .file-upload-input {
                position: absolute;
                left: 0;
                top: 0;
                opacity: 0;
                width: 100%;
                height: 100%;
                cursor: pointer;
            }
            
            .file-upload-icon {
                font-size: 24px;
                color: var(--accent);
                margin-bottom: 10px;
            }

            .input-error {
                border-color: #e74c3c !important;
            }

            .input-success {
                border-color: #2ecc71 !important;
            }
            
            @media (max-width: 768px) {
                .upload-card {
                    padding: 25px;
                }
                
                .gender-options {
                    flex-direction: column;
                    gap: 10px;
                }
            }
        </style>
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
            <div class="container">
                <a class="navbar-brand" href="#page-top">
                    <i class="fas fa-heartbeat me-2"></i>criminal detection in CCTV surveillance
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto py-4 py-lg-0">
                        <li class="nav-item"><a class="nav-link" href="/home">Home</a></li>
                        <li class="nav-item"><a class="nav-link active" href="/upload">Upload</a></li>
                        <li class="nav-item"><a class="nav-link" href="/matching">Find Matching</a></li>
                        <li class="nav-item"><a class="nav-link" href="/details">Get Details</a></li>
                        <li class="nav-item"><a class="nav-link" href="/logout">Sign Out</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Upload Section -->
        <section id="upload-details">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-12 col-md-10 col-lg-8">
                        <div class="upload-card">
                            <div class="upload-header">
                                <h3 class="upload-title">Upload criminal Details</h3>
                                <p class="upload-subtitle">Provide accurate information to help us find the criminal in CCTV surveillance</p>
                                
                                {% if msg %}
                                <div class="alert alert-success alert-dismissible fade show" role="alert">
                                    <strong>{{msg}}</strong>
                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                                {% endif %}
                            </div>
                            
                            <form action="/upload" method="post" enctype="multipart/form-data">
                                <div class="file-upload-wrapper">
                                    <label class="file-upload-label">
                                        <div class="file-upload-icon">
                                            <i class="fas fa-cloud-upload-alt"></i>
                                        </div>
                                        <div>Upload face image</div>
                                        <div class="small text-muted">Click to browse or drag and drop</div>
                                        <input type="file" class="file-upload-input" name="file" accept="image/*" required>
                                    </label>
                                </div>
                                
                                <div class="mb-3">
                                    <label class="form-label">Full Name</label>
                                    <input type="text" class="form-control" placeholder="Enter criminal's full name" name="name" required>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Age</label>
                                    <input type="number" class="form-control" placeholder="Enter criminal's age" name="age" required>
                                </div>
        
                                
                                <div class="mb-3">
                                    <label class="form-label">Date of Birth</label>
                                    <input type="date" class="form-control" name="dob" required>
                                </div>
                                
                                <div class="mb-3">
                                    <label class="form-label">Gender</label>
                                    <div class="gender-options">
                                        <div class="gender-option">
                                            <input type="radio" id="male" name="gender" value="male" required>
                                            <label for="male">Male</label>
                                        </div>
                                        <div class="gender-option">
                                            <input type="radio" id="female" name="gender" value="female" required>
                                            <label for="female">Female</label>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mb-3">
                                    <label class="form-label">crime Date</label>
                                    <input type="date" class="form-control" name="md" required>
                                </div>
                                
                                <button type="submit" class="btn btn-primary">Submit Details</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Bootstrap & jQuery -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
        
        <!-- Custom Script -->
        <script>
            $(document).ready(function() {
                // File upload styling
                $('.file-upload-input').on('change', function() {
                    var fileName = $(this).val().split('\\').pop();
                    if (fileName) {
                        $('.file-upload-label div:first-child').html('<i class="fas fa-file-image"></i>');
                        $('.file-upload-label div:nth-child(2)').text('Selected: ' + fileName);
                        $('.file-upload-label div:last-child').text('');
                        $('.file-upload-label').css('border-color', '#2ecc71');
                    }
                });
                
                // Form validation
                $('form').on('submit', function(e) {
                    let isValid = true;
                    
                    // Check if file is selected
                    if (!$('.file-upload-input').val()) {
                        isValid = false;
                        $('.file-upload-label').css('border-color', '#e74c3c');
                    } else {
                        $('.file-upload-label').css('border-color', '#2ecc71');
                    }
                    
                    // Check all required fields
                    $('input[required]').each(function() {
                        if (!$(this).val()) {
                            isValid = false;
                            $(this).addClass('input-error');
                        } else {
                            $(this).removeClass('input-error').addClass('input-success');
                        }
                    });
                    
                    // Check radio buttons
                    if (!$('input[name="gender"]:checked').val()) {
                        isValid = false;
                        alert('Please select a gender.');
                    }
                    
                    if (!isValid) {
                        e.preventDefault();
                        alert('Please fill all required fields correctly.');
                        return false;
                    }
                    
                    // Show loading state
                    $(this).find('button[type="submit"]').html('<i class="fas fa-spinner fa-spin"></i> Submitting...').prop('disabled', true);
                });
                
                // Remove error styling on input change
                $('input').on('input change', function() {
                    $(this).removeClass('input-error');
                });
            });
        </script>
    </body>
</html>